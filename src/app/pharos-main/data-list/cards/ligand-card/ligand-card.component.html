<mat-card class="ligand-card" *ngIf="ligand">
  <a *ngIf="!internalLink" routerLink = '/ligands/{{ligand.isdrug ? ligand.name : ligand.ligid}}' target="_blank">
    <div class="ligand-content">
      <div class="mat-title centered ligand-name">{{ligand.isdrug ? ligand.name : ligand.chemblName || ligand.name}}</div>
      <pharos-structure-view [smiles]="ligand.smiles"></pharos-structure-view>
    </div>
  </a>
  <a *ngIf="internalLink" routerLink = '/ligands/{{ligand.isdrug ? ligand.name : ligand.ligid}}' >
    <div class="ligand-content">
      <div class="mat-title centered ligand-name">{{ligand.isdrug ? ligand.name : ligand.chemblName || ligand.name}}</div>
      <pharos-structure-view [smiles]="ligand.smiles"></pharos-structure-view>
    </div>
  </a>
  <div class="ligand-footer">
    <div *ngIf="target">
    <a href="/targets/{{target.accession}}" target="_blank" rel="noreferrer">{{target.gene}}</a>
    <pharos-idg-level-indicator [level]="target.idgTDL"></pharos-idg-level-indicator>
    {{target.idgFamily}}<br>
    </div>
    <div *ngIf="primeActivity; else activityCount">
      <br>
      {{primeActivity.moa}} {{primeActivity.type}}: {{primeActivity.value}}
      <br>
      <br>
<!--      <div *ngIf="ligand.activities.length > 1">Also tested on <a routerLink="/ligands/{{ligand.chemblName || ligand.name}}" target="_blank" rel="noreferrer">{{ligand.activities.length}}</a>
        other targets
      </div>-->
    </div>
    <ng-template #activityCount>
      <span>Activity values for {{ligand.activityCount | number}} targets</span>
    </ng-template>
  </div>
</mat-card>



