<article>
  <mat-card
    id="sequence" class="section-card"
    #sequence>
    <mat-card-content>
      <div *ngIf="loading" class="loadingIcon" fxLayoutAlign="center center">
        <img class="spinner rotating" alt="loading..." src="./assets/images/pharos_spinner.svg">
      </div>
      <pharos-component-header [description]="description" [field]="field" [headerText]="label"></pharos-component-header>
      <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutAlign="start center">
        <span class="pharos-subtitle"
              [matTooltip]="getTooltip('residues')"
              [matTooltipClass]="'pharos-tooltip'">
          Residue Counts
        </span>
      </div>
      <div (pharosScrollspy)="active('sequence')">
        <div fxLayout="row" fxLayoutAlign="center start">
          <div fxFlex="95" fxFlex.lt-md="100" class="residue-count-holder">
            <pharos-bar-chart [data]="residueCounts" [expectedData]="expectedResidueCounts" [getLongNameFunction]="getLongFormName" *ngIf="residueCounts"></pharos-bar-chart>
          </div>
        </div>
      </div>

      <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutAlign="start center">
        <span class="pharos-subtitle"
            [matTooltip]="getTooltip('sequence')"
            [matTooltipClass]="'pharos-tooltip'">
        Protein Sequence</span>
      </div>
      <div fxLayout="row" id="sequencesearch">
        <div fxFlex="95">
          <button mat-button class="tool-button " mat-raised-button (click)="goToSequenceSearch()" [color]="'primary'"
                  [matTooltip]="'Begin a sequence search with this sequence'">Find Targets by Sequence
            <mat-icon>search</mat-icon>
          </button>
          <pharos-sequence [target]="target" [apiSources]="apiSources"></pharos-sequence>
        </div>
      </div>

      <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutAlign="start center" fxHide.lt-md>
        <span class="pharos-subtitle" id="protVistaViewerSpan"
              [matTooltip]="getTooltip('protvistaViewer')"
              [matTooltipClass]="'pharos-tooltip'">
        ProtVista Viewer</span>
      </div>
      <div fxLayout="row" fxHide.lt-md>
        <div fxFlex="95">
          <div (pharosScrollspy)="active('sequence')">
            <div #protVistaViewer id="protVistaViewer"></div>
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</article>
