<article>
  <mat-card
          class ="section-card"
          id = "resources"
          (pharosScrollspy)="active('resources')" #resources>
  <mat-card-content>
    <div *ngIf="loading" class = "loadingIcon" fxLayoutAlign="center center">
      <img class="spinner rotating" alt="loading..."  src="./assets/images/pharos_spinner.svg">
    </div>
    <div fxLayout="row"
         class="tkrow"
         fxLayoutAlign="start stretch">
      <div fxFlex="95">
        <span class="mat-title"
              [matTooltip] = description
              [matTooltipClass] = "'pharos-tooltip'">
         IDG Resources</span>
      </div>
      <div fxFlex="5">
        <pharos-help-panel-trigger [origin] = "'resources'" [label]="'IDG Generated Resources'"></pharos-help-panel-trigger>
      </div>
    </div>
    <mat-tab-group>
      <mat-tab label="Reagents ({{reagents?.length}})" matTooltip="View and order IDG produced resources from vendors">
          <div fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between center" class="filter-row">
            <div fxFlex="25">
              <mat-form-field class="full-width-field">
                <mat-select
                  [formControl]="reagentFilterCtrl"
                  [multiple]="true"
                  placeholder="Filter By:">
                  <mat-option *ngFor ="let option of reagentTypes" [value]="option.value">{{option.label.charAt(0).toUpperCase() + option.label.slice(1)}}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div fxFlex="50">
              <pharos-custom-paginator [pageData]="pageData"></pharos-custom-paginator>
            </div>
          </div>
        <div class="data-grid">
          <div *ngFor ="let reagent of reagentsList">
            <mat-card class = "resource-card">
              <div class="mat-subheading-2"><a href="{{reagent.data_page_link}}" target="_blank" rel="noreferrer">{{reagent.name}} ({{reagent.resourceType}})</a></div><br>
              <div class="thumb-holder">
              <img *ngIf="reagent.smiles" [src] = parseSmiles(reagent.smiles) alt = "image for {{reagent.name}}" class="resource-thumb">
              <img *ngIf="!reagent.smiles" src = './assets/images/resource-types/{{reagent.resourceType}}.png' alt = "image for {{reagent.name}}" class="resource-thumb">
              </div>
             <div fxLayout="row" fxLayoutAlign="space-between start">
               <div fxFlex = "55">Order {{reagent.name}} from:</div></div>
              <div fxLayout="row" fxLayoutAlign="space-between start">
              <div fxFlex="40"><a href = {{reagent.vendor_cat}} target="_blank" rel="noreferrer">{{reagent.vendor}}</a></div>
             </div>
              <br>
              <br>
            </mat-card>
          </div>
        </div>
      </mat-tab>
      <mat-tab label="Data Resources ({{dataSourceList?.length}})" matTooltip="View and explore IDG produced data sets">
        <ng-template matTabContent>
          <div fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between center" class="filter-row">
            <div fxFlex="25">
              <mat-form-field class="full-width-field">
                <mat-select [formControl]="dataFilterCtrl"
                            [multiple]="true" placeholder="Filter By:">
                  <mat-option *ngFor ="let option of dataTypes" [value]="option.value">{{option.label.charAt(0).toUpperCase() + option.label.slice(1)}}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div fxFlex="50">
              <pharos-custom-paginator [pageData]="pageData"></pharos-custom-paginator>
            </div>
          </div>
          <div class="data-source-grid">
            <div *ngFor ="let dataSource of dataSourceList">
              <mat-card class = "resource-card">
                <div class="mat-subheading-2"><a href="{{dataSource.data_page_link}}" target="_blank" rel="noreferrer">{{dataSource.name}}</a></div><br>
                <div fxLayout="row" fxLayoutAlign="space-around start">
                  <div fxFlex="33">
                    <div class="thumb-holder">
                      <img src = './assets/images/resource-types/{{dataSource.resourceType}}.png' alt = "image for {{dataSource.name}}" class="resource-thumb">
                    </div>
                  </div>
                  <div fxFlex="66" *ngIf = "dataSource.resourceType ==='dataResource'">
                    <ul>
                      <li>authors</li>
                      <li>datasetID</li>
                      <li>releaseDate</li>
                      <li>link to repository</li>
                      <li>activity</li>
                      <li>externalID & externalIDRegistrationSystem </li>
                    </ul>
                  </div>
                    <div fxFlex="66" *ngIf = "dataSource.resourceType ==='probeData'">
                      <ul>
                        <li>authors</li>
                        <li>datasetID</li>
                        <li>releaseDate</li>
                        <li>link to repository</li>
                        <li>activity</li>
                        <li>externalID & externalIDRegistrationSystem </li>
                      <li>ligandType</li>
                      <li>moleculeName</li>
                      <li>negativeControlName</li>
                      <li>negativeControlStructure</li>
                      <li>probePage</li>
                      <li>selectivity</li>
                      <li>structure</li>
                      </ul>
                    </div>
                      <div fxFlex="66" *ngIf = "dataSource.resourceType ==='mouseImagingData'">
                        <ul>
                          <li>authors</li>
                          <li>datasetID</li>
                          <li>releaseDate</li>
                          <li>link to repository</li>
                          <li>activity</li>
                          <li>externalID & externalIDRegistrationSystem </li>
                      <li>geneExpressed</li>
                      <li>mmrrcId</li>
                      <li>strainName</li>
                      <li>tissue: tissueID</li>
                        </ul>
                  </div>
                </div>
                <!--<div fxLayout="row" fxLayoutAlign="space-between end">
                  <div fxFlex = "55">Download {{dataSource.resourceType}}</div>
                  <div fxFlex="40" fxLayoutAlign="end"><a href = {{dataSource.vendor_cat}} target="_blank" rel="noreferrer">{{dataSource.vendor}}</a></div>
                </div>-->
              </mat-card>
            </div>
          </div>
        </ng-template>
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>
</article>
